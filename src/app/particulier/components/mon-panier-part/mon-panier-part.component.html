<div class="marge"></div>
<button *ngIf="isEmpty == false" class="btn btn-success" (click)="validatePanier()">
  Valider mon panier
</button>
<button *ngIf="isEmpty == false && reduction == false" class="btn btn-success" (click)="addReduction()">
  Réduction points sourires 
</button>
<button *ngIf="isEmpty == false && reduction == true" class="btn btn-warning" (click)="deleteReduction()">
  Retirer la réduction
</button>
<table class="table">
  <thead>
    <tr>
      <th scope="col">Produit</th>
      <th scope="col">Description</th>
      <th scope="col ">Quantité</th>
      <th scope="col ">DLC</th>
      <th scope="col ">Prix</th>
      <th scope="col ">Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of parsedPanier">
      <td>{{item.libelle}}</td>
      <td>{{item.desc}}</td>
      <td>
        <select selected="item.nb" (change)="updateQuantite(item.id, $event.target.value)">
          <option *ngFor="let i of counter(item.quantite)" [selected]="i == item.nb" value="{{i}}">{{i}}</option>
        </select>
      </td>
      <td>{{item.dlc | date}}</td>
      <td>{{item.prix * item.nb}} €</td>
      <td>

        <button class="btn-delete floatR" (click)="deletePanier(item.id)">
          <img src="../../../../assets/images/clear.svg">
        </button>

      </td>
    </tr>
    <tr *ngIf="reduction == true && isEmpty == false && parsedPanier.length != 0">
      <td>Reduction Points Sourires</td>
      <td></td>
      <td></td>
      <td></td>
      <td>-{{ptSourires}}€</td>
      <td></td>

    </tr>
    <tr>
      <td>TOTAL</td>
      <td></td>
      <td></td>
      <td></td>
      <td>{{totalPanier}}€</td>
      <td></td>

    </tr>
  </tbody>
</table>